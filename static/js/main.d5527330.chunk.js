(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,n,t){e.exports=t(40)},40:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(4),i=t.n(o),l=t(14),c=t(15),u=t(19),s=t(16),d=t(20),p=t(2),f=t(3);function m(){var e=Object(p.a)(["\n  flex: 1;\n  font-size: 1.4em;\n  text-align: right;\n"]);return m=function(){return e},e}function g(){var e=Object(p.a)(["\n  flex: 1;\n"]);return g=function(){return e},e}function x(){var e=Object(p.a)(["\n  flex: 1;\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n  padding: 2em;\n"]);return x=function(){return e},e}var b=f.a.header(x()),h=f.a.h1(g()),v=f.a.div(m()),E=function(){return r.a.createElement(b,null,r.a.createElement(h,null,"Labels"),r.a.createElement(v,null,r.a.createElement("a",{href:"https://baltazarparra.github.io/labels/"},"home")))};function y(){var e=Object(p.a)(["\n  margin-left: 1em;\n  font-size: 1.2em;\n  background: silver;\n  padding: .4em;\n  border: solid 2px;\n  border-radius: 26px 28px 38px 36px;\n  &:focus {\n    outline: 0;\n  }\n"]);return y=function(){return e},e}function k(){var e=Object(p.a)(["\n  width: 200px;\n  max-width: 50%;\n  padding-left: 4px;\n  border: 0;\n  font-size: 1.2em;\n  transition: all 0.3s cubic-bezier(.25,.8,.25,1);\n\n  &:focus {\n    outline: 0;\n  }\n"]);return k=function(){return e},e}function S(){var e=Object(p.a)(["\n  padding: .4em;\n  border: solid 2px;\n  border-radius: 26px 28px 38px 36px;\n"]);return S=function(){return e},e}function w(){var e=Object(p.a)(["\n  display: block;\n  text-align: left;\n  margin-right: auto;\n  margin-left: 2em;\n"]);return w=function(){return e},e}var T=f.a.div(w()),j=f.a.label(S()),O=f.a.input(k()),R=f.a.button(y()),q=function(e){var n=e.searchTags,t=e.clearSearch,a=e.clearTable;return r.a.createElement(T,null,r.a.createElement(j,null,r.a.createElement("span",{role:"img","aria-label":"serach icon"},"\ud83d\udd0e"),r.a.createElement(O,{placeholder:"Search tags",onKeyUp:n})),t&&r.a.createElement(R,{onClick:a},"clear"))},z=t(1),L=t.n(z);function M(){var e=Object(p.a)(["\n  display: block;\n  padding: .4em 1em;\n  margin: 1em auto;\n  font-size: 1em;\n  background: none;\n  box-shadow: 4px 4px 0px 0px rgba(0,0,0,0.75);\n  border-radius: 155px 15px 225px 15px/15px 205px 15px 255px;\n  border:solid 4px #41403E;\n  transition: all 0.3s cubic-bezier(.25,.8,.25,1);\n\n  &:hover {\n    background-color: #ebebeb;\n    box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.75);\n  }\n\n  &:focus {\n    outline: 0;\n  }\n\n  &:disabled {\n    background-color: #ebebeb;\n    box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.75);\n    border-color: silver;\n    color: silver;\n  }\n"]);return M=function(){return e},e}function N(){var e=Object(p.a)(["\n  font-size: 1em;\n  padding: .2em;\n  margin: 0 .2em;\n  box-shadow: 20px 38px 34px -26px hsla(0,0%,0%,.2);\n  border-radius: 155px 15px 225px 15px/15px 205px 15px 255px;\n  border:solid 4px #41403E;\n\n  &:focus {\n    outline: 0;\n  }\n"]);return N=function(){return e},e}function U(){var e=Object(p.a)(["\n  color: red;\n  text-align: center;\n"]);return U=function(){return e},e}function I(){var e=Object(p.a)(["\n  display: flex;\n  height: 80vh;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.4em;\n  text-align: center;\n"]);return I=function(){return e},e}var D=f.a.main(I()),C=f.a.p(U()),F=f.a.input(N()),A=f.a.button(M()),P=function(e){var n=e.username,t=e.userNotFound,a=e.getUsername,o=e.handleSearch;return r.a.createElement(D,null,r.a.createElement("form",{onSubmit:o},r.a.createElement("label",null,"https://github.com/",r.a.createElement(F,{autoFocus:!0,onChange:a,placeholder:"username"})),r.a.createElement(A,{type:"submit",disabled:!n},"get repositories \u25b8")),t&&r.a.createElement(C,null,"User not found, check and try again"))};P.Proptypes={username:L.a.string.isRequired,userNotFound:L.a.string.isRequired,getUsername:L.a.func.isRequired,handleSearch:L.a.func.isRequired};var B=P;function G(){var e=Object(p.a)(["\n  display: block;\n  margin: 1em auto;\n  width: 180px;\n  height: 36px;\n  box-shadow: 20px 38px 34px -26px hsla(0,0%,0%,.2);\n  border-radius: 155px 15px 225px 15px/15px 205px 15px 255px;\n  border:solid 4px #41403E;\n  background-image:\n    repeating-linear-gradient(\n      -45deg,\n      #ccc,\n      #ccc 11px,\n      #eee 10px,\n      #eee 20px\n    );\n  background-size: 28px 28px;\n  animation: "," .5s linear infinite;\n"]);return G=function(){return e},e}function H(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 80vh;\n  margin: 0 auto;\n  text-align: center;\n\n"]);return H=function(){return e},e}function J(){var e=Object(p.a)(["\n  0% {\n    background-position: 0 0;\n  }\n  100% {\n    background-position: 28px 0;\n  }\n"]);return J=function(){return e},e}var K=Object(f.b)(J()),V=f.a.div(H()),Y=f.a.span(G(),K),Q=function(){return r.a.createElement(V,null,r.a.createElement(Y,null),r.a.createElement("p",null,"Getting the repositories list from Github..."))};function _(){var e=Object(p.a)(["\n  display: block;\n  max-width: 100%;\n  margin: 2em 1em;\n  table-layout: fixed;\n  font-size: 1.4em;\n  text-align: left;\n  border-radius: 6px 4px 9px 4px/110px 95px 115px 5px;\n  border:solid 4px #41403E;\n\n  @media (max-width: 600px) {\n    overflow-x: scroll;\n    max-width: 90%;\n  }\n\n  tbody {\n    display: inline-table;\n    width: 100%;\n  }\n\n  tr:first-child {\n    background-color: #ccc;\n  }\n\n  tr:nth-child(even) {\n    background-color: #ebebeb;\n  }\n\n  th {\n    padding: .4em;\n  }\n\n  td {\n    padding: .4em;\n  }\n\n  button {\n    color: #0000cc;\n    font-size: 1em;\n    background: none;\n    border: 0;\n    text-decoration: underline;\n    &:focus {\n      outline: 0;\n    }\n  }\n"]);return _=function(){return e},e}var W=f.a.table(_()),X=function(e){var n=e.starredList,t=e.openModal;return r.a.createElement(W,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Repository"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Language"),r.a.createElement("th",null,"Tags"),r.a.createElement("th",null)),n.map(function(e,n){return r.a.createElement("tr",{key:n},r.a.createElement("td",null,r.a.createElement("a",{href:e.link},e.name)),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.language),r.a.createElement("td",null,e.tags&&e.tags.join(", ")),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,title:e.name,value:n},"edit")))})))};X.Proptypes={openModal:L.a.func.isRequired,starredList:L.a.array.isRequired};var Z=X;function $(){var e=Object(p.a)(["\n  position: fixed;\n  top: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0,0,0,.5);\n\n  form {\n    display: flex;\n    flex-direction: column;\n    padding: .4em 1em;\n    background-color: white;\n    border-radius: 6px 4px 9px 4px/110px 95px 115px 5px;\n    border:solid 4px #41403E;\n    font-size: 1.4em;\n    max-width: 90%;\n  }\n\n  input {\n    display: block;\n    width: 400px;\n    max-width: 100%;\n    border-radius: 6px 4px 9px 4px/110px 95px 115px 5px;\n    border:solid 2px #41403E;\n    margin: .4em 0;\n    height: 30px;\n    font-size: 1em;\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  span {\n    margin: 0 auto;\n  }\n\n  button:first-child {\n    background-color: #95bcf2;\n  }\n\n  button {\n    margin: .4em 0;\n    padding: .4rem 1rem;\n    font-size: 1rem;\n    border-radius: 6px 4px 9px 4px/110px 95px 115px 5px;\n    border:solid 2px #41403E;\n    box-shadow: 2px 2px 0px 0px rgba(0,0,0,0.75);\n    transition: all 0.3s cubic-bezier(.25,.8,.25,1);\n    &:hover {\n      box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.75);\n    }\n  }\n"]);return $=function(){return e},e}var ee=f.a.div($()),ne=function(e){var n=e.closeModal,t=e.repoInfo,a=e.saveTags,o=e.getTags;return r.a.createElement(ee,null,r.a.createElement("form",{onSubmit:a},r.a.createElement("label",null,"edit tag for repositories ",t.name,r.a.createElement("input",{autoFocus:!0,onChange:o})),r.a.createElement("span",null,r.a.createElement("button",{type:"submit",onClick:a},"Save"),r.a.createElement("button",{onClick:n},"Cancel"))))};ne.Proptypes={closeModal:L.a.func.isRequired};var te=ne;function ae(){var e=Object(p.a)(["\n  min-height: 100vh;\n"]);return ae=function(){return e},e}var re=f.a.div(ae()),oe=function(e){var n=e.loading,t=e.loaded,a=e.taging,o=e.username,i=e.userNotFound,l=e.starredList,c=e.getUsername,u=e.handleSearch,s=e.openModal,d=e.closeModal,p=e.repoInfo,f=e.saveTags,m=e.getTags,g=e.searchTags,x=e.clearSearch,b=e.clearTable;return r.a.createElement(re,null,r.a.createElement(E,null),t&&r.a.createElement(q,{searchTags:g,clearSearch:x,clearTable:b}),!n&&!t&&r.a.createElement(B,{username:o,userNotFound:i,getUsername:c,handleSearch:u}),n&&!t&&r.a.createElement(Q,null),t&&r.a.createElement(Z,{starredList:l,openModal:s}),a&&r.a.createElement(te,{closeModal:d,repoInfo:p,saveTags:f,getTags:m}))};oe.Proptypes={loading:L.a.bool.isRequired,loaded:L.a.bool.isRequired,taging:L.a.bool.isRequired,username:L.a.string.isRequired,userNotFound:L.a.bool.isRequired,getUsername:L.a.func.isRequired,starredList:L.a.array.isRequired,handleSearch:L.a.func.isRequired,openModal:L.a.func.isRequired,closeModal:L.a.func.isRequired,repoInfo:L.a.object.isRequired,saveTags:L.a.func.isRequired,getTags:L.a.func.isRequired};var ie=oe,le=t(10),ce=t.n(le);t(36);ce.a.initializeApp({apiKey:"AIzaSyA9oSHLoOHOFtydQtMEd2rYo4xYo0VVwhE",authDomain:"labels-b0476.firebaseapp.com",databaseURL:"https://labels-b0476.firebaseio.com",projectId:"labels-b0476",storageBucket:"labels-b0476.appspot.com",messagingSenderId:"937230223574"});var ue=ce.a.database(),se={listenUserNode:function(e){return ue.ref("/".concat(e,"/")).once("value")},listenRepoNode:function(e){return ue.ref("/".concat(e,"/starred")).once("value")},setRepoNode:function(e,n){return ue.ref("/".concat(e,"/starred")).set(n)},updateTagsNode:function(e,n,t){return ue.ref("/".concat(e,"/starred/").concat(n)).update({tags:t})}},de=function(e){return fetch("https://api.github.com/users/".concat(e,"/starred"))},pe=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(u.a)(this,Object(s.a)(n).call(this,e))).getUsername=function(e){var n=e.target;return t.setUsername(n)},t.setUsername=function(e){e.onkeyup=function(){t.setState({username:e.value})}},t.checkStore=function(e){se.listenUserNode(e).then(function(e){null===e.val()?t.saveData():t.feedData()})},t.handleSearch=function(e){e.preventDefault(),t.setState({loading:!0,userNotFound:!1}),t.checkStore(t.state.username)},t.callAPI=function(e){return de(e)},t.saveData=function(){t.callAPI(t.state.username).then(function(e){return e.json()}).then(function(e){var n=e.map(function(e){return{name:e.name,link:e.html_url,description:e.description,language:e.language}});t.sendData(n)}).catch(function(e){t.setState({loading:!1,userNotFound:!0,username:""}),console.error(e)})},t.sendData=function(e){return t.setState({loading:!1,loaded:!0,starredList:e}),se.setRepoNode(t.state.username,e)},t.feedData=function(){se.listenRepoNode(t.state.username).then(function(e){t.setState({loading:!1,loaded:!0,starredList:e.val()})})},t.openModal=function(e){return t.setState({taging:!0,repoInfo:{name:e.target.title,index:e.target.value}})},t.closeModal=function(){return t.setState({taging:!1})},t.getTags=function(e){var n=e.target;n.focus(),n.onkeyup=function(){t.setState({rawTags:n.value.toLowerCase()})}},t.saveTags=function(e){e.preventDefault();var n=t.state.rawTags.split(/[\s,]+/),a=n.filter(function(e,t){return n.indexOf(e)>=t});t.sendTags(a),t.setState({taging:!1})},t.sendTags=function(e){var n=t.state.starredList.findIndex(function(e){return e.name===t.state.repoInfo.name});se.updateTagsNode(t.state.username,n,e),t.feedData()},t.searchTags=function(e){var n=e.target.value.toLowerCase(),a=e.which||e.keyCode;t.returnSearch(n,a,13)},t.returnSearch=function(e,n,a){if(n===a){var r=t.state.starredList.filter(function(n){return!(!n.tags||!n.tags.includes(e))||null});e?t.setState({clearSearch:!0,starredList:r}):t.feedData()}},t.clearTable=function(){t.feedData(),t.setState({clearSearch:!1})},t.state={loading:!1,loaded:!1,taging:!1,username:"",userNotFound:!1,starredList:[],dbList:[],repoInfo:{},rawTags:"",clearSearch:!1},t}return Object(d.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ie,Object.assign({},this.state,{getUsername:this.getUsername,handleSearch:this.handleSearch,openModal:this.openModal,closeModal:this.closeModal,saveTags:this.saveTags,getTags:this.getTags,searchTags:this.searchTags,clearTable:this.clearTable})))}}]),n}(a.Component);i.a.render(r.a.createElement(pe,null),document.getElementById("root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.d5527330.chunk.js.map