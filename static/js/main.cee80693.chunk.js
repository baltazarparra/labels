(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,n,t){e.exports=t(40)},40:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(4),i=t.n(o),l=t(14),s=t(15),u=t(19),c=t(16),d=t(20),p=t(2),g=t(3);function f(){var e=Object(p.a)(["\n  flex: 1;\n  font-size: 1.4em;\n  text-align: right;\n"]);return f=function(){return e},e}function m(){var e=Object(p.a)(["\n  flex: 1;\n"]);return m=function(){return e},e}function x(){var e=Object(p.a)(["\n  flex: 1;\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n  padding: 2em;\n"]);return x=function(){return e},e}var b=g.a.header(x()),h=g.a.h1(m()),v=g.a.div(f()),E=function(){return r.a.createElement(b,null,r.a.createElement(h,null,"Labels"),r.a.createElement(v,null,r.a.createElement("a",{href:"https://baltazarparra.github.io/labels/"},"home")))};function k(){var e=Object(p.a)(["\n  width: 200px;\n  padding-left: 4px;\n  border: 0;\n  font-size: 1.2em;\n  transition: all 0.3s cubic-bezier(.25,.8,.25,1);\n\n  &:focus {\n    width: 300px;\n    outline: 0;\n  }\n"]);return k=function(){return e},e}function y(){var e=Object(p.a)(["\n  padding: .4em;\n  border: solid 2px;\n  border-radius: 26px 28px 38px 36px;\n"]);return y=function(){return e},e}function T(){var e=Object(p.a)(["\n  position: absolute;\n  top: 6em;\n  left: 2em;\n"]);return T=function(){return e},e}var j=g.a.div(T()),w=g.a.label(y()),O=g.a.input(k()),S=function(e){var n=e.searchTags;return r.a.createElement(j,null,r.a.createElement(w,null,r.a.createElement("span",{role:"img","aria-label":"serach icon"},"\ud83d\udd0e"),r.a.createElement(O,{placeholder:"Search tags",onKeyUp:n})))},R=t(1),q=t.n(R);function M(){var e=Object(p.a)(["\n  display: block;\n  padding: .4em 1em;\n  margin: 1em auto;\n  font-size: 1em;\n  background: none;\n  box-shadow: 4px 4px 0px 0px rgba(0,0,0,0.75);\n  border-radius: 155px 15px 225px 15px/15px 205px 15px 255px;\n  border:solid 4px #41403E;\n  transition: all 0.3s cubic-bezier(.25,.8,.25,1);\n\n  &:hover {\n    background-color: #ebebeb;\n    box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.75);\n  }\n\n  &:focus {\n    outline: 0;\n  }\n\n  &:disabled {\n    background-color: #ebebeb;\n    box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.75);\n    border-color: silver;\n    color: silver;\n  }\n"]);return M=function(){return e},e}function z(){var e=Object(p.a)(["\n  font-size: 1em;\n  padding: .2em;\n  margin: 0 .2em;\n  box-shadow: 20px 38px 34px -26px hsla(0,0%,0%,.2);\n  border-radius: 155px 15px 225px 15px/15px 205px 15px 255px;\n  border:solid 4px #41403E;\n\n  &:focus {\n    outline: 0;\n  }\n"]);return z=function(){return e},e}function L(){var e=Object(p.a)(["\n  color: red;\n  text-align: center;\n"]);return L=function(){return e},e}function I(){var e=Object(p.a)(["\n  flex: 1;\n  font-size: 1.4em;\n"]);return I=function(){return e},e}var U=g.a.main(I()),C=g.a.p(L()),F=g.a.input(z()),N=g.a.button(M()),D=function(e){var n=e.username,t=e.userNotFound,a=e.getUsername,o=e.handleSearch;return r.a.createElement(U,null,r.a.createElement("label",null,"https://github.com/",r.a.createElement(F,{onChange:a,placeholder:"username"})),r.a.createElement(N,{disabled:!n,onClick:o},"get repositories \u25b8"),t&&r.a.createElement(C,null,"User not found, check and try again"))};D.Proptypes={username:q.a.string.isRequired,userNotFound:q.a.string.isRequired,getUsername:q.a.func.isRequired,handleSearch:q.a.func.isRequired};var A=D;function P(){var e=Object(p.a)(["\n  display: block;\n  margin: 1em;\n  width: 180px;\n  height: 36px;\n  box-shadow: 20px 38px 34px -26px hsla(0,0%,0%,.2);\n  border-radius: 155px 15px 225px 15px/15px 205px 15px 255px;\n  border:solid 4px #41403E;\n  background-image:\n    repeating-linear-gradient(\n      -45deg,\n      #ccc,\n      #ccc 11px,\n      #eee 10px,\n      #eee 20px\n    );\n  background-size: 28px 28px;\n  animation: "," .5s linear infinite;\n"]);return P=function(){return e},e}function B(){var e=Object(p.a)(["\n  position: absolute;\n"]);return B=function(){return e},e}function G(){var e=Object(p.a)(["\n  0% {\n    background-position: 0 0;\n  }\n  100% {\n    background-position: 28px 0;\n  }\n"]);return G=function(){return e},e}var H=Object(g.b)(G()),J=g.a.div(B()),K=g.a.span(P(),H),V=function(){return r.a.createElement(J,null,r.a.createElement(K,null),r.a.createElement("p",null,"Getting the repositories list from Github..."))};function Y(){var e=Object(p.a)(["\n  margin: 3em 2em;\n  table-layout: fixed;\n  font-size: 1.4em;\n  text-align: left;\n  border-radius: 6px 4px 9px 4px/110px 95px 115px 5px;\n  border:solid 4px #41403E;\n\n  tr:first-child {\n    background-color: #ccc;\n  }\n\n  tr:nth-child(even) {\n    background-color: #ebebeb;\n  }\n\n  th {\n    padding: .4em;\n  }\n\n  td {\n    padding: .4em;\n  }\n\n  button {\n    color: #0000cc;\n    font-size: 1em;\n    background: none;\n    border: 0;\n    text-decoration: underline;\n    &:focus {\n      outline: 0;\n    }\n  }\n"]);return Y=function(){return e},e}var Q=g.a.table(Y()),_=function(e){var n=e.starredList,t=e.openModal;return r.a.createElement(Q,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Repository"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Language"),r.a.createElement("th",null,"Tags"),r.a.createElement("th",null)),n.map(function(e,n){return r.a.createElement("tr",{key:n},r.a.createElement("td",null,r.a.createElement("a",{href:e.link},e.name)),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.language),r.a.createElement("td",null,e.tags),r.a.createElement("td",null,r.a.createElement("button",{onClick:t,title:e.name,value:n},"edit")))})))};_.Proptypes={openModal:q.a.func.isRequired,starredList:q.a.array.isRequired};var W=_;function X(){var e=Object(p.a)(["\n  position: fixed;\n  top: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0,0,0,.5);\n\n  div {\n    display: flex;\n    flex-direction: column;\n    padding: .4em 1em;\n    background-color: white;\n    border-radius: 6px 4px 9px 4px/110px 95px 115px 5px;\n    border:solid 4px #41403E;\n    font-size: 1.4em;\n  }\n\n  input {\n    display: block;\n    width: 400px;\n    border-radius: 6px 4px 9px 4px/110px 95px 115px 5px;\n    border:solid 2px #41403E;\n    margin: .4em 0;\n    height: 30px;\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  span {\n    margin: 0 auto;\n  }\n\n  button:first-child {\n    background-color: #95bcf2;\n  }\n\n  button {\n    margin: .4em 0;\n    padding: .4rem 1rem;\n    font-size: 1rem;\n    border-radius: 6px 4px 9px 4px/110px 95px 115px 5px;\n    border:solid 2px #41403E;\n    box-shadow: 2px 2px 0px 0px rgba(0,0,0,0.75);\n    transition: all 0.3s cubic-bezier(.25,.8,.25,1);\n    &:hover {\n      box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.75);\n    }\n  }\n"]);return X=function(){return e},e}var Z=g.a.div(X()),$=function(e){var n=e.closeModal,t=e.repoInfo,a=e.saveTags,o=e.getTags;return r.a.createElement(Z,null,r.a.createElement("div",null,r.a.createElement("label",null,"edit tag for repositories ",t.name,r.a.createElement("input",{onChange:o})),r.a.createElement("span",null,r.a.createElement("button",{onClick:a},"Save"),r.a.createElement("button",{onClick:n},"Cancel"))))};$.Proptypes={closeModal:q.a.func.isRequired};var ee=$;function ne(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  min-height: 100vh;\n"]);return ne=function(){return e},e}var te=g.a.div(ne()),ae=function(e){var n=e.loading,t=e.loaded,a=e.taging,o=e.username,i=e.userNotFound,l=e.starredList,s=e.getUsername,u=e.handleSearch,c=e.openModal,d=e.closeModal,p=e.repoInfo,g=e.saveTags,f=e.getTags,m=e.searchTags;return r.a.createElement(te,null,r.a.createElement(E,null),!n&&!t&&r.a.createElement(A,{username:o,userNotFound:i,getUsername:s,handleSearch:u}),n&&!t&&r.a.createElement(V,null),t&&r.a.createElement(W,{starredList:l,openModal:c}),t&&r.a.createElement(S,{searchTags:m}),a&&r.a.createElement(ee,{closeModal:d,repoInfo:p,saveTags:g,getTags:f}))};ae.Proptypes={loading:q.a.bool.isRequired,loaded:q.a.bool.isRequired,taging:q.a.bool.isRequired,username:q.a.string.isRequired,userNotFound:q.a.bool.isRequired,getUsername:q.a.func.isRequired,starredList:q.a.array.isRequired,handleSearch:q.a.func.isRequired,openModal:q.a.func.isRequired,closeModal:q.a.func.isRequired,repoInfo:q.a.object.isRequired,saveTags:q.a.func.isRequired,getTags:q.a.func.isRequired};var re=ae,oe=t(10),ie=t.n(oe);t(36);ie.a.initializeApp({apiKey:"AIzaSyA9oSHLoOHOFtydQtMEd2rYo4xYo0VVwhE",authDomain:"labels-b0476.firebaseapp.com",databaseURL:"https://labels-b0476.firebaseio.com",projectId:"labels-b0476",storageBucket:"labels-b0476.appspot.com",messagingSenderId:"937230223574"});var le=ie.a.database(),se=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(u.a)(this,Object(c.a)(n).call(this,e))).getUsername=function(e){var n=e.target,a=null;n.onkeyup=function(){clearTimeout(a),a=setTimeout(function(){t.setState({username:n.value})},1400)}},t.checkStore=function(e){le.ref("/".concat(e,"/")).once("value").then(function(e){null===e.val()?t.saveData():t.feedData()})},t.handleSearch=function(e){t.setState({loading:!0,userNotFound:!1}),t.checkStore(t.state.username)},t.saveData=function(){var e=t.state.username;fetch("https://api.github.com/users/".concat(e,"/starred")).then(function(e){return e.json()}).then(function(n){var a=n.map(function(e){return{name:e.name,link:e.html_url,description:e.description,language:e.language}});le.ref("/".concat(e,"/starred")).set(a),t.setState({loading:!1,loaded:!0,starredList:a})}).catch(function(e){t.setState({loading:!1,userNotFound:!0,username:""}),console.error(e)})},t.feedData=function(){var e=t.state.username;le.ref("/".concat(e,"/starred")).once("value").then(function(e){t.setState({loading:!1,loaded:!0,starredList:e.val()})})},t.openModal=function(e){t.setState({taging:!0,repoInfo:{name:e.target.title,index:e.target.value}})},t.closeModal=function(){t.setState({taging:!1})},t.getTags=function(e){var n=e.target,a=null;n.onkeyup=function(){clearTimeout(a),a=setTimeout(function(){console.log("get",n.value),t.setState({rawTags:n.value})},400)}},t.saveTags=function(){var e=t.state.rawTags.split(/[\s,]+/),n=e.filter(function(n,t){return e.indexOf(n)>=t});t.sendTags(n),console.log("save",n),t.setState({taging:!1})},t.sendTags=function(e){var n=t.state.starredList.findIndex(function(e){return e.name===t.state.repoInfo.name});console.log("send",e),le.ref("/".concat(t.state.username,"/starred/").concat(n)).update({tags:e}),t.feedData()},t.searchTags=function(e){var n=e.target.value;if(13===(e.which||e.keyCode)){var a=t.state.starredList.filter(function(e){return!(!e.tags||!e.tags.includes(n))||null});n?t.setState({starredList:a}):t.feedData()}},t.state={loading:!1,loaded:!1,taging:!1,username:"",userNotFound:!1,starredList:[],dbList:[],repoInfo:{},rawTags:""},t}return Object(d.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(re,Object.assign({},this.state,{getUsername:this.getUsername,handleSearch:this.handleSearch,openModal:this.openModal,closeModal:this.closeModal,saveTags:this.saveTags,getTags:this.getTags,searchTags:this.searchTags})))}}]),n}(a.Component);i.a.render(r.a.createElement(se,null),document.getElementById("root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.cee80693.chunk.js.map