(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,n,a){e.exports=a(40)},40:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),o=a(4),i=a.n(o),c=a(14),l=a(15),u=a(19),s=a(16),d=a(20),p=a(2),f=a(3);function g(){var e=Object(p.a)(["\n  flex: 1;\n  font-size: 1.4em;\n  text-align: right;\n"]);return g=function(){return e},e}function m(){var e=Object(p.a)(["\n  color: black;\n  text-decoration: none;\n"]);return m=function(){return e},e}function b(){var e=Object(p.a)(["\n  flex: 1;\n"]);return b=function(){return e},e}function x(){var e=Object(p.a)(["\n  flex: 1;\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n  padding: 2em;\n"]);return x=function(){return e},e}var h=f.a.header(x()),v=f.a.h1(b()),E=f.a.a(m()),y=f.a.div(g()),T=function(){return r.a.createElement(h,null,r.a.createElement(v,null,r.a.createElement(E,{href:"https://baltazarparra.github.io/labels/"},"Labels")),r.a.createElement(y,null,r.a.createElement("a",{href:"https://baltazarparra.github.io/labels/"},"home")))},S=a(1),k=a.n(S);function w(){var e=Object(p.a)(["\n  margin-left: 1em;\n  font-size: 1.2em;\n  background: silver;\n  padding: .4em;\n  border: solid 2px;\n  border-radius: 26px 28px 38px 36px;\n  &:focus {\n    outline: 0;\n  }\n"]);return w=function(){return e},e}function R(){var e=Object(p.a)(["\n  width: 200px;\n  max-width: 50%;\n  padding-left: 4px;\n  border: 0;\n  font-size: 1.2em;\n  transition: all 0.3s cubic-bezier(.25,.8,.25,1);\n\n  &:focus {\n    outline: 0;\n  }\n"]);return R=function(){return e},e}function j(){var e=Object(p.a)(["\n  padding: .4em;\n  border: solid 2px;\n  border-radius: 26px 28px 38px 36px;\n"]);return j=function(){return e},e}function q(){var e=Object(p.a)(["\n  display: block;\n  text-align: left;\n  margin-right: auto;\n  margin-left: 2em;\n"]);return q=function(){return e},e}var O=f.a.div(q()),z=f.a.label(j()),L=f.a.input(R()),M=f.a.button(w()),N=function(e){var n=e.searchTags,a=e.clearSearch,t=e.clearTable;return r.a.createElement(O,null,r.a.createElement(z,null,r.a.createElement("span",{role:"img","aria-label":"serach icon"},"\ud83d\udd0e"),r.a.createElement(L,{placeholder:"Search tags",onKeyUp:n})),a&&r.a.createElement(M,{onClick:t},"clear"))};N.Proptypes={searchTags:k.a.func.isRequired,clearSearch:k.a.bool.isRequired,clearTable:k.a.func.isRequired};var I=N;function U(){var e=Object(p.a)(["\n  display: block;\n  padding: .4em 1em;\n  margin: 1em auto;\n  font-size: 1em;\n  background: none;\n  box-shadow: 4px 4px 0px 0px rgba(0,0,0,0.75);\n  border-radius: 155px 15px 225px 15px/15px 205px 15px 255px;\n  border:solid 4px #41403E;\n  transition: all 0.3s cubic-bezier(.25,.8,.25,1);\n\n  &:hover {\n    background-color: #ebebeb;\n    box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.75);\n  }\n\n  &:focus {\n    outline: 0;\n  }\n\n  &:disabled {\n    background-color: #ebebeb;\n    box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.75);\n    border-color: silver;\n    color: silver;\n  }\n"]);return U=function(){return e},e}function D(){var e=Object(p.a)(["\n  font-size: 1em;\n  padding: .2em;\n  margin: 0 .2em;\n  box-shadow: 20px 38px 34px -26px hsla(0,0%,0%,.2);\n  border-radius: 155px 15px 225px 15px/15px 205px 15px 255px;\n  border:solid 4px #41403E;\n\n  &:focus {\n    outline: 0;\n  }\n"]);return D=function(){return e},e}function C(){var e=Object(p.a)(["\n  color: red;\n  text-align: center;\n"]);return C=function(){return e},e}function F(){var e=Object(p.a)(["\n  display: flex;\n  height: 80vh;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.4em;\n  text-align: center;\n"]);return F=function(){return e},e}var P=f.a.main(F()),A=f.a.p(C()),B=f.a.input(D()),G=f.a.button(U()),H=function(e){var n=e.username,a=e.userNotFound,t=e.getUsername,o=e.handleSearch;return r.a.createElement(P,null,r.a.createElement("form",{onSubmit:o},r.a.createElement("label",null,"https://github.com/",r.a.createElement(B,{autoFocus:!0,onChange:t,placeholder:"username"})),r.a.createElement(G,{type:"submit",disabled:!n},"get repositories \u25b8")),a&&r.a.createElement(A,null,"User not found, check and try again"))};H.Proptypes={username:k.a.string.isRequired,userNotFound:k.a.string.isRequired,getUsername:k.a.func.isRequired,handleSearch:k.a.func.isRequired};var J=H;function K(){var e=Object(p.a)(["\n  display: block;\n  margin: 1em auto;\n  width: 180px;\n  height: 36px;\n  box-shadow: 20px 38px 34px -26px hsla(0,0%,0%,.2);\n  border-radius: 155px 15px 225px 15px/15px 205px 15px 255px;\n  border:solid 4px #41403E;\n  background-image:\n    repeating-linear-gradient(\n      -45deg,\n      #ccc,\n      #ccc 11px,\n      #eee 10px,\n      #eee 20px\n    );\n  background-size: 28px 28px;\n  animation: "," .5s linear infinite;\n"]);return K=function(){return e},e}function V(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 80vh;\n  margin: 0 auto;\n  text-align: center;\n\n"]);return V=function(){return e},e}function Y(){var e=Object(p.a)(["\n  0% {\n    background-position: 0 0;\n  }\n  100% {\n    background-position: 28px 0;\n  }\n"]);return Y=function(){return e},e}var Q=Object(f.b)(Y()),_=f.a.div(V()),W=f.a.span(K(),Q),X=function(){return r.a.createElement(_,null,r.a.createElement(W,null),r.a.createElement("p",null,"Getting the repositories list from Github..."))};function Z(){var e=Object(p.a)(["\n  display: block;\n  max-width: 100%;\n  margin: 2em 1em;\n  table-layout: fixed;\n  font-size: 1.4em;\n  text-align: left;\n  border-radius: 6px 4px 9px 4px/110px 95px 115px 5px;\n  border:solid 4px #41403E;\n\n  @media (max-width: 600px) {\n    overflow-x: scroll;\n    max-width: 90%;\n  }\n\n  tbody {\n    display: inline-table;\n    width: 100%;\n  }\n\n  tr:first-child {\n    background-color: #ccc;\n  }\n\n  tr:nth-child(even) {\n    background-color: #ebebeb;\n  }\n\n  th {\n    padding: .4em;\n  }\n\n  td {\n    padding: .4em;\n  }\n\n  button {\n    color: #0000cc;\n    font-size: 1em;\n    background: none;\n    border: 0;\n    text-decoration: underline;\n    &:focus {\n      outline: 0;\n    }\n  }\n"]);return Z=function(){return e},e}var $=f.a.table(Z()),ee=function(e){var n=e.starredList,a=e.openModal;return r.a.createElement($,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Repository"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Language"),r.a.createElement("th",null,"Tags"),r.a.createElement("th",null)),n.map(function(e,n){return r.a.createElement("tr",{key:n},r.a.createElement("td",null,r.a.createElement("a",{href:e.link},e.name)),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.language),r.a.createElement("td",null,e.tags&&e.tags.join(", ")),r.a.createElement("td",null,r.a.createElement("button",{onClick:a,title:e.name,value:n},"edit")))})))};ee.Proptypes={openModal:k.a.func.isRequired,starredList:k.a.array.isRequired};var ne=ee;function ae(){var e=Object(p.a)(["\n  position: fixed;\n  top: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0,0,0,.5);\n\n  form {\n    display: flex;\n    flex-direction: column;\n    padding: .4em 1em;\n    background-color: white;\n    border-radius: 6px 4px 9px 4px/110px 95px 115px 5px;\n    border:solid 4px #41403E;\n    font-size: 1.4em;\n    max-width: 90%;\n  }\n\n  input {\n    display: block;\n    width: 400px;\n    max-width: 100%;\n    border-radius: 6px 4px 9px 4px/110px 95px 115px 5px;\n    border:solid 2px #41403E;\n    margin: .4em 0;\n    height: 30px;\n    font-size: 1em;\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  span {\n    margin: 0 auto;\n  }\n\n  button:first-child {\n    background-color: #95bcf2;\n  }\n\n  button {\n    margin: .4em 0;\n    padding: .4rem 1rem;\n    font-size: 1rem;\n    border-radius: 6px 4px 9px 4px/110px 95px 115px 5px;\n    border:solid 2px #41403E;\n    box-shadow: 2px 2px 0px 0px rgba(0,0,0,0.75);\n    transition: all 0.3s cubic-bezier(.25,.8,.25,1);\n    &:hover {\n      box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.75);\n    }\n  }\n"]);return ae=function(){return e},e}var te=f.a.div(ae()),re=function(e){var n=e.closeModal,a=e.repoInfo,t=e.saveTags,o=e.getTags;return r.a.createElement(te,null,r.a.createElement("form",{onSubmit:t},r.a.createElement("label",null,"edit tag for repositories ",a.name,r.a.createElement("input",{autoFocus:!0,onChange:o})),r.a.createElement("span",null,r.a.createElement("button",{type:"submit",onClick:t},"Save"),r.a.createElement("button",{onClick:n},"Cancel"))))};re.Proptypes={closeModal:k.a.func.isRequired,repoInfo:k.a.array.isRequired,saveTags:k.a.func.isRequired,getTags:k.a.func.isRequired};var oe=re;function ie(){var e=Object(p.a)(["\n  min-height: 100vh;\n"]);return ie=function(){return e},e}var ce=f.a.div(ie()),le=function(e){var n=e.loading,a=e.loaded,t=e.taging,o=e.username,i=e.userNotFound,c=e.starredList,l=e.getUsername,u=e.handleSearch,s=e.openModal,d=e.closeModal,p=e.repoInfo,f=e.saveTags,g=e.getTags,m=e.searchTags,b=e.clearSearch,x=e.clearTable;return r.a.createElement(ce,null,r.a.createElement(T,null),a&&r.a.createElement(I,{searchTags:m,clearSearch:b,clearTable:x}),!n&&!a&&r.a.createElement(J,{username:o,userNotFound:i,getUsername:l,handleSearch:u}),n&&!a&&r.a.createElement(X,null),a&&r.a.createElement(ne,{starredList:c,openModal:s}),t&&r.a.createElement(oe,{closeModal:d,repoInfo:p,saveTags:f,getTags:g}))};le.Proptypes={loading:k.a.bool.isRequired,loaded:k.a.bool.isRequired,taging:k.a.bool.isRequired,username:k.a.string.isRequired,userNotFound:k.a.bool.isRequired,getUsername:k.a.func.isRequired,starredList:k.a.array.isRequired,handleSearch:k.a.func.isRequired,openModal:k.a.func.isRequired,closeModal:k.a.func.isRequired,repoInfo:k.a.object.isRequired,saveTags:k.a.func.isRequired,getTags:k.a.func.isRequired,searchTags:k.a.func.isRequired,clearSearch:k.a.bool.isRequired,clearTable:k.a.func.isRequired};var ue=le,se=a(10),de=a.n(se);a(36);de.a.initializeApp({apiKey:"AIzaSyA9oSHLoOHOFtydQtMEd2rYo4xYo0VVwhE",authDomain:"labels-b0476.firebaseapp.com",databaseURL:"https://labels-b0476.firebaseio.com",projectId:"labels-b0476",storageBucket:"labels-b0476.appspot.com",messagingSenderId:"937230223574"});var pe=de.a.database(),fe={listenUserNode:function(e){return pe.ref("/".concat(e,"/")).once("value")},listenRepoNode:function(e){return pe.ref("/".concat(e,"/starred")).once("value")},setRepoNode:function(e,n){return pe.ref("/".concat(e,"/starred")).set(n)},updateTagsNode:function(e,n,a){return pe.ref("/".concat(e,"/starred/").concat(n)).update({tags:a})}},ge=function(e){return fetch("https://api.github.com/users/".concat(e,"/starred"))},me=function(e){function n(e){var a;return Object(c.a)(this,n),(a=Object(u.a)(this,Object(s.a)(n).call(this,e))).getUsername=function(e){var n=e.target;return a.setUsername(n)},a.setUsername=function(e){e.onkeyup=function(){a.setState({username:e.value})}},a.checkStore=function(e){fe.listenUserNode(e).then(function(e){null===e.val()?a.saveData():a.feedData()})},a.handleSearch=function(e){e.preventDefault(),a.setState({loading:!0,userNotFound:!1}),a.checkStore(a.state.username)},a.callAPI=function(e){return ge(e)},a.saveData=function(){a.callAPI(a.state.username).then(function(e){return e.json()}).then(function(e){var n=e.map(function(e){return{name:e.name,link:e.html_url,description:e.description,language:e.language}});a.sendData(n)}).catch(function(e){a.setState({loading:!1,userNotFound:!0,username:""}),console.error(e)})},a.sendData=function(e){return a.setState({loading:!1,loaded:!0,starredList:e}),fe.setRepoNode(a.state.username,e)},a.feedData=function(){fe.listenRepoNode(a.state.username).then(function(e){a.setState({loading:!1,loaded:!0,starredList:e.val()})})},a.openModal=function(e){return a.setState({taging:!0,repoInfo:{name:e.target.title,index:e.target.value}})},a.closeModal=function(){return a.setState({taging:!1})},a.getTags=function(e){var n=e.target;n.focus(),n.onkeyup=function(){a.setState({rawTags:n.value.toLowerCase()})}},a.saveTags=function(e){e.preventDefault();var n=a.state.rawTags.split(/[\s,]+/),t=n.filter(function(e,a){return n.indexOf(e)>=a});a.sendTags(t),a.setState({taging:!1})},a.sendTags=function(e){var n=a.state.starredList.findIndex(function(e){return e.name===a.state.repoInfo.name});fe.updateTagsNode(a.state.username,n,e),a.feedData()},a.searchTags=function(e){var n=e.target.value.toLowerCase(),t=e.which||e.keyCode;a.returnSearch(n,t,13)},a.returnSearch=function(e,n,t){if(n===t){var r=a.state.starredList.filter(function(n){return!(!n.tags||!n.tags.includes(e))||null});e?a.setState({clearSearch:!0,starredList:r}):a.feedData()}},a.clearTable=function(){a.feedData(),a.setState({clearSearch:!1})},a.state={loading:!1,loaded:!1,taging:!1,username:"",userNotFound:!1,starredList:[],dbList:[],repoInfo:{},rawTags:"",clearSearch:!1},a}return Object(d.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ue,Object.assign({},this.state,{getUsername:this.getUsername,handleSearch:this.handleSearch,openModal:this.openModal,closeModal:this.closeModal,saveTags:this.saveTags,getTags:this.getTags,searchTags:this.searchTags,clearTable:this.clearTable})))}}]),n}(t.Component);i.a.render(r.a.createElement(me,null),document.getElementById("root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.15d7ac3f.chunk.js.map